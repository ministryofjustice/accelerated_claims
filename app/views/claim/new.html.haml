= render partial: 'shared/header_message'
= render partial: 'shared/flash'
= render partial: 'shared/error_messages'

= form_for :claim, url: submission_path, :html => { :method => :post, :id => 'claimForm' } do |claim_form|
  
  %input#js-state(type='hidden')

  %section
    %span.right
      %span.req> *
      required
    %h3.section-header Property to be taken back (possessed)
    .moj-panel
      = render partial: 'property', object: @claim.property, locals: { claim_form: claim_form }

  %section
    %h3.section-header Claimant (landlord)
    .moj-panel.has-multiple#claimants(data-multiple="claimant" data-caption="No. of claimants" data-single="person" data-plural="people")
      .sub-panel.claimant#claimant_one
        %h4 Claimant 1
        = render partial: 'claimant', object: @claim.claimant_one, locals: { claim_form: claim_form, claimant_field: :claimant_one}
      .row.divider
      .sub-panel.rel.claimant.same-address#claimant_two
        %h4.section-header Claimant 2
        = render partial: 'claimant', object: @claim.claimant_two, locals: { claim_form: claim_form, claimant_field: :claimant_two}
      .row.divider
      = render partial: 'claimant_contact', object: @claim.claimant_contact, locals: { claim_form: claim_form, claimant_field: :claimant_contact}

  %section
    %h3.section-header Defendants (tenants)
    .moj-panel.has-multiple#defendants(data-multiple="defendant" data-caption="No. of defendants" data-single="person" data-plural="people")
      .sub-panel.defendant#defendant_one
        %h4 Defendant 1
        = render partial: 'defendant', object: @claim.defendant_one, locals: { claim_form: claim_form, defendant_field: :defendant_one}

      .row.divider

      .sub-panel.rel.defendant#defendant_two
        %h4 Defendant 2
        = render partial: 'defendant', object: @claim.defendant_two, locals: { claim_form: claim_form, defendant_field: :defendant_two}

  %section
    %h3.section-header Demoted tenancy
    .moj-panel
      = render partial: 'demoted_tenancy', object: @claim.demoted_tenancy, locals: { claim_form: claim_form }

  %section
    %h3.section-header Tenancy agreements
    .moj-panel
      = render partial: 'tenancy', object: @claim.tenancy, locals: { claim_form: claim_form }

  %section
    %h3.section-header Notice
    .moj-panel
      = render partial: 'notice', object: @claim.notice, locals: { claim_form: claim_form }

  %section
    %h3.section-header Licences
    .moj-panel
      = render partial: 'license', object: @claim.license, locals: { claim_form: claim_form }

  %section
    %h3.section-header Deposit
    .moj-panel
      = render partial: 'deposit', object: @claim.deposit, locals: { claim_form: claim_form }

  %section
    %h3.section-header At court
    .moj-panel
      = render partial: 'order', object: @claim.order, locals: { claim_form: claim_form }
      = render partial: 'possession', object: @claim.possession, locals: { claim_form: claim_form }
      = render partial: 'fee', object: @claim.fee, locals: { claim_form: claim_form }

  %section
    .action-buttons.cf
      %button.button.primary.large.chevron.left#submit{name: 'Complete form', value: ''} Complete form


/ handlebars templates

= render :partial => 'shared/hbtemplates'
